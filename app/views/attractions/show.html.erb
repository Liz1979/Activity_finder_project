<% provide(:title, "Show an attraction") %>

<div class="form">
<h1>Attraction</h1>
</br>
<table align = center>
<tr>
<td>Name: </td><td><%= @attraction.name %></td>
</tr>
<tr>
<td>Longitude:</td><td><%= @attraction.longitude %></td>
</tr>
<tr>
<td>Latitude:</td><td><%= @attraction.latitude %></td>
</tr>
<tr>
<td>Speciality</td><td><%= @attraction.speciality %></td>
</tr>
</table> 
<p><%= link_to 'Back', root_path %> <br>
<hr>
<hr>
  <% if @photo == "whut.jpg" %>
    <%= image_tag @photo %>
  <% else %>
    <img src= <%= @photo %> > </img>
  <% end %>
<hr>
</div>
<h3 align = center>Map View</h3>
 <%= render 'layouts/map' %>
<script>
handler = Gmaps.build('Google');
handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
  var circles = handler.addCircles(
  [{ lat: <%= @attraction.latitude %>, lng: <%= @attraction.longitude %>, radius: 5*1600 }],
  { strokeColor: '#FF0000', fillColor: '#888888'}
);
  markers = handler.addMarkers([
    {
      "lat": <%= @attraction.latitude %>,
      "lng": <%= @attraction.longitude %>,
      "infowindow": "<%= @attraction.name %>"
    }
  ]);
  handler.bounds.extendWith(markers);
  handler.bounds.extendWith(circles);
  handler.fitMapToBounds();
});
</script>
