      <h3 align = center>Map View</h3>
      <div style='padding: 0px 0px 0px 180px; width: 800px;'>
      <div id="map" style='width: 800px; height: 400px;'></div>
      </div>
      </br>

<script>
handler = Gmaps.build('Google');
handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
  var circles = handler.addCircles(
  [{ lat: <%= location.latitude %>, lng: <%= location.longitude %>, radius: 5*1600 }],
  { strokeColor: '#FF0000', fillColor: '#888888'}
);
  markers = handler.addMarkers([
    {
      "lat": <%= location.latitude %>,
      "lng": <%= location.longitude %>
    },
    <% location.attractions.each do |att| %>
    {
      "lat": <%= att.latitude %>,
      "lng": <%= att.longitude %>,
      "infowindow": "<a href='/attractions/<%= att.id %>'><%= att.name %></a>",
      "picture": {
          "url": "<%= image_url(icons[att.activity_types.first.name])%>",
          "width": 20,
          "height": 34,
        },
    },
    <% end %>
  ]);
  handler.bounds.extendWith(markers);
  handler.bounds.extendWith(circles);
  handler.fitMapToBounds();
});
</script>
